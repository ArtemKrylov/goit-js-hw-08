!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function i(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function n(e,t){return t.get?t.get.call(e):t.value}function o(e,t){return n(e,i(e,t,"get"))}function a(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(e,t,i){a(e,t),t.set(e,i)}function r(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}function l(e,t,n){return r(e,i(e,t,"set"),n),n}function c(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}function u(e,t){a(e,t),t.add(e)}var f,h="Expected a function",m=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,g=/^0o[0-7]+$/i,p=parseInt,y="object"==typeof t&&t&&t.Object===Object&&t,b="object"==typeof self&&self&&self.Object===Object&&self,w=y||b||Function("return this")(),S=Object.prototype.toString,k=Math.max,W=Math.min,E=function(){return w.Date.now()};function T(e,t,i){var n,o,a,s,r,l,c=0,u=!1,f=!1,m=!0;if("function"!=typeof e)throw new TypeError(h);function d(t){var i=n,a=o;return n=o=void 0,c=t,s=e.apply(a,i)}function v(e){return c=e,r=setTimeout(p,t),u?d(e):s}function g(e){var i=e-l;return void 0===l||i>=t||i<0||f&&e-c>=a}function p(){var e=E();if(g(e))return y(e);r=setTimeout(p,function(e){var i=t-(e-l);return f?W(i,a-(e-c)):i}(e))}function y(e){return r=void 0,m&&n?d(e):(n=o=void 0,s)}function b(){var e=E(),i=g(e);if(n=arguments,o=this,l=e,i){if(void 0===r)return v(l);if(f)return r=setTimeout(p,t),d(l)}return void 0===r&&(r=setTimeout(p,t)),s}return t=F(t)||0,j(i)&&(u=!!i.leading,a=(f="maxWait"in i)?k(F(i.maxWait)||0,t):a,m="trailing"in i?!!i.trailing:m),b.cancel=function(){void 0!==r&&clearTimeout(r),c=0,n=l=o=r=void 0},b.flush=function(){return void 0===r?s:y(E())},b}function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function F(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==S.call(e)}(e))return NaN;if(j(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=j(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(m,"");var i=v.test(e);return i||g.test(e)?p(e.slice(2),i?2:8):d.test(e)?NaN:+e}f=function(e,t,i){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError(h);return j(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),T(e,t,{leading:n,maxWait:t,trailing:o})};var O=new WeakMap,M=new WeakMap,x=new WeakMap,B=new WeakMap,I=new WeakSet,N=new WeakSet,$=new WeakSet,z=new WeakSet,A=new WeakSet,q=new WeakSet,D=new WeakSet;function J(){let e;try{e=JSON.parse(localStorage.getItem("feedback-form-state"))}catch(e){console.error(e)}this.feedBackFormState=e||{}}function L(){c(this,I,J).call(this),[...o(this,x).elements].forEach((e=>{e.value=this.feedBackFormState[e.name]||""}))}function _({target:{name:e,value:t}}){t&&(this.feedBackFormState[e]=t,localStorage.setItem("feedback-form-state",JSON.stringify(this.feedBackFormState)))}function C(e){e.preventDefault(),c(this,A,G).call(this)?(console.log("Form data:"),console.table(this.feedBackFormState),this.feedBackFormState={},localStorage.removeItem("feedback-form-state"),c(this,D,K).call(this)):console.log("Fill the form correctly!")}function G(){let e=!0;return o(this,M).test(o(this,x).elements.email.value)&&o(this,M).test(o(this,x).elements.message.value)?(c(this,q,H).call(this,o(this,x).elements.email),c(this,q,H).call(this,o(this,x).elements.message),console.log("Invalid message. Email and message field must not be empty"),!1):(o(this,O).test(String(o(this,x).elements.email.value))?o(this,x).elements.email.style.outline="none":(c(this,q,H).call(this,o(this,x).elements.email),console.log("Invalid email"),e=!1),o(this,M).test(String(o(this,x).elements.message.value))?(c(this,q,H).call(this,o(this,x).elements.message),console.log("Invalid message. Message field must not be empty"),e=!1):o(this,x).elements.message.style.outline="none",e)}function H(e){e.style.outline="1px solid red"}function K(){o(this,x).elements.email.style.outline="none",o(this,x).elements.message.style.outline="none",o(this,x).reset()}new class{get isActive(){return o(this,B)}inactivate(){o(this,B)?(l(this,B,!1),o(this,x).querySelectorAll('button[type="submit"]').forEach((e=>e.disabled=!0)),console.log("inactivated")):console.log("form is inactivated previously")}activate(){o(this,B)?console.log("form is already activated"):(l(this,B,!0),o(this,x).querySelectorAll('button[type="submit"]').forEach((e=>e.disabled=!1)),console.log("activated"))}constructor(t){u(this,I),u(this,N),u(this,$),u(this,z),u(this,A),u(this,q),u(this,D),s(this,O,{writable:!0,value:void 0}),s(this,M,{writable:!0,value:void 0}),s(this,x,{writable:!0,value:void 0}),s(this,B,{writable:!0,value:void 0}),l(this,B,!0),l(this,O,/[a-z0-9]+@[a-z]+\.[a-z]{2,3}/),l(this,M,/^\s*$/g),l(this,x,document.forms[t]),this.feedBackFormState={},c(this,N,L).call(this),o(this,x).addEventListener("input",e(f)(c(this,$,_).bind(this),500)),o(this,x).addEventListener("submit",c(this,z,C).bind(this))}}("feedbackForm")}();
//# sourceMappingURL=03-feedback.4a708660.js.map
