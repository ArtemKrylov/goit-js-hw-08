var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var i,n="Expected a function",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,r=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,f=c||u||Function("return this")(),h=Object.prototype.toString,m=Math.max,d=Math.min,v=function(){return f.Date.now()};function g(e,t,i){var a,o,s,r,l,c,u=0,f=!1,h=!1,g=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var i=a,n=o;return a=o=void 0,u=t,r=e.apply(n,i)}function w(e){return u=e,l=setTimeout(k,t),f?b(e):r}function S(e){var i=e-c;return void 0===c||i>=t||i<0||h&&e-u>=s}function k(){var e=v();if(S(e))return W(e);l=setTimeout(k,function(e){var i=t-(e-c);return h?d(i,s-(e-u)):i}(e))}function W(e){return l=void 0,g&&a?b(e):(a=o=void 0,r)}function E(){var e=v(),i=S(e);if(a=arguments,o=this,c=e,i){if(void 0===l)return w(c);if(h)return l=setTimeout(k,t),b(c)}return void 0===l&&(l=setTimeout(k,t)),r}return t=y(t)||0,p(i)&&(f=!!i.leading,s=(h="maxWait"in i)?m(y(i.maxWait)||0,t):s,g="trailing"in i?!!i.trailing:g),E.cancel=function(){void 0!==l&&clearTimeout(l),u=0,a=c=o=l=void 0},E.flush=function(){return void 0===l?r:W(v())},E}function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var i=s.test(e);return i||r.test(e)?l(e.slice(2),i?2:8):o.test(e)?NaN:+e}function b(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function w(e,t){return t.get?t.get.call(e):t.value}function S(e,t){return w(e,b(e,t,"get"))}function k(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function W(e,t,i){k(e,t),t.set(e,i)}function E(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}function T(e,t,i){return E(e,b(e,t,"set"),i),i}function j(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}function F(e,t){k(e,t),t.add(e)}i=function(e,t,i){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError(n);return p(i)&&(a="leading"in i?!!i.leading:a,o="trailing"in i?!!i.trailing:o),g(e,t,{leading:a,maxWait:t,trailing:o})};var O=new WeakMap,M=new WeakMap,x=new WeakMap,B=new WeakMap,I=new WeakSet,N=new WeakSet,$=new WeakSet,z=new WeakSet,A=new WeakSet,q=new WeakSet,D=new WeakSet;function J(){let e;try{e=JSON.parse(localStorage.getItem("feedback-form-state"))}catch(e){console.error(e)}this.feedBackFormState=e||{}}function L(){j(this,I,J).call(this),[...S(this,x).elements].forEach((e=>{e.value=this.feedBackFormState[e.name]||""}))}function _({target:{name:e,value:t}}){t&&(this.feedBackFormState[e]=t,localStorage.setItem("feedback-form-state",JSON.stringify(this.feedBackFormState)))}function C(e){e.preventDefault(),j(this,A,G).call(this)?(console.log("Form data:"),console.table(this.feedBackFormState),this.feedBackFormState={},localStorage.removeItem("feedback-form-state"),j(this,D,K).call(this)):console.log("Fill the form correctly!")}function G(){let e=!0;return S(this,M).test(S(this,x).elements.email.value)&&S(this,M).test(S(this,x).elements.message.value)?(j(this,q,H).call(this,S(this,x).elements.email),j(this,q,H).call(this,S(this,x).elements.message),console.log("Invalid message. Email and message field must not be empty"),!1):(S(this,O).test(String(S(this,x).elements.email.value))?S(this,x).elements.email.style.outline="none":(j(this,q,H).call(this,S(this,x).elements.email),console.log("Invalid email"),e=!1),S(this,M).test(String(S(this,x).elements.message.value))?(j(this,q,H).call(this,S(this,x).elements.message),console.log("Invalid message. Message field must not be empty"),e=!1):S(this,x).elements.message.style.outline="none",e)}function H(e){e.style.outline="1px solid red"}function K(){S(this,x).elements.email.style.outline="none",S(this,x).elements.message.style.outline="none",S(this,x).reset()}new class{get isActive(){return S(this,B)}inactivate(){S(this,B)?(T(this,B,!1),S(this,x).querySelectorAll('button[type="submit"]').forEach((e=>e.disabled=!0)),console.log("inactivated")):console.log("form is inactivated previously")}activate(){S(this,B)?console.log("form is already activated"):(T(this,B,!0),S(this,x).querySelectorAll('button[type="submit"]').forEach((e=>e.disabled=!1)),console.log("activated"))}constructor(e){F(this,I),F(this,N),F(this,$),F(this,z),F(this,A),F(this,q),F(this,D),W(this,O,{writable:!0,value:void 0}),W(this,M,{writable:!0,value:void 0}),W(this,x,{writable:!0,value:void 0}),W(this,B,{writable:!0,value:void 0}),T(this,B,!0),T(this,O,/[a-z0-9]+@[a-z]+\.[a-z]{2,3}/),T(this,M,/^\s*$/g),T(this,x,document.forms[e]),this.feedBackFormState={},j(this,N,L).call(this),S(this,x).addEventListener("input",t(i)(j(this,$,_).bind(this),500)),S(this,x).addEventListener("submit",j(this,z,C).bind(this))}}("feedbackForm");
//# sourceMappingURL=03-feedback.a0df46f0.js.map
